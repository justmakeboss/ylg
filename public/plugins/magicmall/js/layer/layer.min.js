/*3.0.2*/
!function (d, g) { var e = d.layui && layui.define, f, i, j = { getPath: function () { var m = document.scripts, l = m[m.length - 1], n = l.src; if (l.getAttribute("merge")) { return } return n.substring(0, n.lastIndexOf("/") + 1) }(), config: {}, end: {}, minIndex: 0, minLeft: [], btn: ["&#x786E;&#x5B9A;", "&#x53D6;&#x6D88;"], type: ["dialog", "page", "iframe", "loading", "tips"] }; var h = { v: "3.0.2", ie: function () { var l = navigator.userAgent.toLowerCase(); return (!!d.ActiveXObject || "ActiveXObject" in d) ? ((l.match(/msie\s(\d+)/) || [])[1] || "11") : false }(), index: (d.layer && d.layer.v) ? 100000 : 0, path: j.getPath, config: function (l, m) { l = l || {}; h.cache = j.config = f.extend({}, j.config, l); h.path = j.config.path || h.path; typeof l.extend === "string" && (l.extend = [l.extend]); if (j.config.path) { h.ready() } if (!l.extend) { return this } e ? layui.addcss("modules/layer/" + l.extend) : h.link("skin/" + l.extend); return this }, link: function (m, r, l) { if (!h.path) { return } var q = f("head")[0], s = document.createElement("link"); if (typeof r === "string") { l = r } var o = (l || m).replace(/\.|\//g, ""); var n = "layuicss-" + o, t = 0; s.rel = "stylesheet"; s.href = h.path + m; s.id = n; if (!f("#" + n)[0]) { q.appendChild(s) } if (typeof r !== "function") { return } (function p() { if (++t > 8 * 1000 / 100) { return d.console && console.error("layer.css: Invalid") } parseInt(f("#" + n).css("width")) === 1989 ? r() : setTimeout(p, 100) }()) }, ready: function (n) { var m = "skinlayercss", l = "302"; e ? layui.addcss("modules/layer/default/layer.css?v=" + h.v + l, n, m) : h.link("skin/default/layer.css?v=" + h.v + l, n, m); return this }, alert: function (n, l, o) { var m = typeof l === "function"; if (m) { o = l } return h.open(f.extend({ content: n, yes: o }, m ? {} : l)) }, confirm: function (o, m, p, l) { var n = typeof m === "function"; if (n) { l = p; p = m } return h.open(f.extend({ content: o, btn: j.btn, yes: p, btn2: l }, n ? {} : m)) }, msg: function (o, m, l) { var n = typeof m === "function", r = j.config.skin; var q = (r ? r + " " + r + "-msg" : "") || "layui-layer-msg"; var p = c.anim.length - 1; if (n) { l = m } return h.open(f.extend({ content: o, time: 3000, shade: false, skin: q, title: false, closeBtn: false, btn: false, resize: false, end: l }, (n && !j.config.skin) ? { skin: q + " layui-layer-hui", anim: p } : function () { m = m || {}; if (m.icon === -1 || m.icon === g && !j.config.skin) { m.skin = q + " " + (m.skin || "layui-layer-hui") } return m }())) }, load: function (m, l) { return h.open(f.extend({ type: 3, icon: m || 0, resize: false, shade: 0.01 }, l)) }, tips: function (m, n, l) { return h.open(f.extend({ type: 4, content: [m, n], closeBtn: false, time: 3000, shade: false, resize: false, fixed: false, maxWidth: 210 }, l)) } }; var b = function (l) { var m = this; m.index = ++h.index; m.config = f.extend({}, m.config, j.config, l); h.ready(function () { document.body ? m.creat() : setTimeout(function () { m.creat() }, 50) }) }; b.pt = b.prototype; var c = ["layui-layer", ".layui-layer-title", ".layui-layer-main", ".layui-layer-dialog", "layui-layer-iframe", "layui-layer-content", "layui-layer-btn", "layui-layer-close"]; c.anim = ["layer-anim", "layer-anim-01", "layer-anim-02", "layer-anim-03", "layer-anim-04", "layer-anim-05", "layer-anim-06", "layer-anim-07"]; b.pt.config = { type: 0, shade: 0.3, fixed: true, move: c[1], title: "&#x4FE1;&#x606F;", offset: "auto", area: "auto", closeBtn: 1, time: 0, zIndex: 19891014, maxWidth: 360, anim: 0, icon: -1, moveType: 1, resize: true, scrollbar: true, tips: 2 }; b.pt.vessel = function (m, s) { var o = this, l = o.index, n = o.config; var t = n.zIndex + l, q = typeof n.title === "object"; var r = n.maxmin && (n.type === 1 || n.type === 2); var p = (n.title ? '<div class="layui-layer-title" style="' + (q ? n.title[1] : "") + '">' + (q ? n.title[0] : n.title) + "</div>" : ""); n.zIndex = t; s([n.shade ? ('<div class="layui-layer-shade" id="layui-layer-shade' + l + '" times="' + l + '" style="' + ("z-index:" + (t - 1) + "; background-color:" + (n.shade[1] || "#000") + "; opacity:" + (n.shade[0] || n.shade) + "; filter:alpha(opacity=" + (n.shade[0] * 100 || n.shade * 100) + ");") + '"></div>') : "", '<div class="' + c[0] + (" layui-layer-" + j.type[n.type]) + (((n.type == 0 || n.type == 2) && !n.shade) ? " layui-layer-border" : "") + " " + (n.skin || "") + '" id="' + c[0] + l + '" type="' + j.type[n.type] + '" times="' + l + '" showtime="' + n.time + '" conType="' + (m ? "object" : "string") + '" style="z-index: ' + t + "; width:" + n.area[0] + ";height:" + n.area[1] + (n.fixed ? "" : ";position:absolute;") + '">' + (m && n.type != 2 ? "" : p) + '<div id="' + (n.id || "") + '" class="layui-layer-content' + ((n.type == 0 && n.icon !== -1) ? " layui-layer-padding" : "") + (n.type == 3 ? " layui-layer-loading" + n.icon : "") + '">' + (n.type == 0 && n.icon !== -1 ? '<i class="layui-layer-ico layui-layer-ico' + n.icon + '"></i>' : "") + (n.type == 1 && m ? "" : (n.content || "")) + '</div><span class="layui-layer-setwin">' + function () { var u = r ? '<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>' : ""; n.closeBtn && (u += '<a class="layui-layer-ico ' + c[7] + " " + c[7] + (n.title ? n.closeBtn : (n.type == 4 ? "1" : "2")) + '" href="javascript:;"></a>'); return u }() + "</span>" + (n.btn ? function () { var v = ""; typeof n.btn === "string" && (n.btn = [n.btn]); for (var w = 0, u = n.btn.length; w < u; w++) { v += '<a class="' + c[6] + "" + w + '">' + n.btn[w] + "</a>" } return '<div class="' + c[6] + " layui-layer-btn-" + (n.btnAlign || "") + '">' + v + "</div>" }() : "") + (n.resize ? '<span class="layui-layer-resize"></span>' : "") + "</div>"], p, f('<div class="layui-layer-move"></div>')); return o }; b.pt.creat = function () { var o = this, m = o.config, q = o.index, r, n = m.content, p = typeof n === "object", l = f("body"); if (m.id && f("#" + m.id)[0]) { return } if (typeof m.area === "string") { m.area = m.area === "auto" ? ["", ""] : [m.area, ""] } if (m.shift) { m.anim = m.shift } if (h.ie == 6) { m.fixed = false } switch (m.type) { case 0: m.btn = ("btn" in m) ? m.btn : j.btn[0]; h.closeAll("dialog"); break; case 2: var n = m.content = p ? m.content : [m.content || "http://layer.layui.com", "auto"]; m.content = '<iframe scrolling="' + (m.content[1] || "auto") + '" allowtransparency="true" id="' + c[4] + "" + q + '" name="' + c[4] + "" + q + '" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="' + m.content[0] + '"></iframe>'; break; case 3: delete m.title; delete m.closeBtn; m.icon === -1 && (m.icon === 0); h.closeAll("loading"); break; case 4: p || (m.content = [m.content, "body"]); m.follow = m.content[1]; m.content = m.content[0] + '<i class="layui-layer-TipsG"></i>'; delete m.title; m.tips = typeof m.tips === "object" ? m.tips : [m.tips, true]; m.tipsMore || h.closeAll("tips"); break } o.vessel(p, function (u, t, s) { l.append(u[0]); p ? function () { (m.type == 2 || m.type == 4) ? function () { f("body").append(u[1]) }() : function () { if (!n.parents("." + c[0])[0]) { n.data("display", n.css("display")).show().addClass("layui-layer-wrap").wrap(u[1]); f("#" + c[0] + q).find("." + c[5]).before(t) } }() }() : l.append(u[1]); f(".layui-layer-move")[0] || l.append(j.moveElem = s); o.layero = f("#" + c[0] + q); m.scrollbar || c.html.css("overflow", "hidden").attr("layer-full", q) }).auto(q); m.type == 2 && h.ie == 6 && o.layero.find("iframe").attr("src", n[0]); m.type == 4 ? o.tips() : o.offset(); if (m.fixed) { i.on("resize", function () { o.offset(); (/^\d+%$/.test(m.area[0]) || /^\d+%$/.test(m.area[1])) && o.auto(q); m.type == 4 && o.tips() }) } m.time <= 0 || setTimeout(function () { h.close(o.index) }, m.time); o.move().callback(); if (c.anim[m.anim]) { o.layero.addClass(c.anim[m.anim]).data("anim", true) } }; b.pt.auto = function (n) { var r = this, o = r.config, q = f("#" + c[0] + n); if (o.area[0] === "" && o.maxWidth > 0) { if (h.ie && h.ie < 8 && o.btn) { q.width(q.innerWidth()) } q.outerWidth() > o.maxWidth && q.width(o.maxWidth) } var p = [q.innerWidth(), q.innerHeight()]; var s = q.find(c[1]).outerHeight() || 0; var m = q.find("." + c[6]).outerHeight() || 0; function l(t) { t = q.find(t); t.height(p[1] - s - m - 2 * (parseFloat(t.css("padding")) | 0)) } switch (o.type) { case 2: l("iframe"); break; default: if (o.area[1] === "") { if (o.fixed && p[1] >= i.height()) { p[1] = i.height(); l("." + c[5]) } } else { l("." + c[5]) } break } return r }; b.pt.offset = function () { var p = this, l = p.config, o = p.layero; var n = [o.outerWidth(), o.outerHeight()]; var m = typeof l.offset === "object"; p.offsetTop = (i.height() - n[1]) / 2; p.offsetLeft = (i.width() - n[0]) / 2; if (m) { p.offsetTop = l.offset[0]; p.offsetLeft = l.offset[1] || p.offsetLeft } else { if (l.offset !== "auto") { if (l.offset === "t") { p.offsetTop = 0 } else { if (l.offset === "r") { p.offsetLeft = i.width() - n[0] } else { if (l.offset === "b") { p.offsetTop = i.height() - n[1] } else { if (l.offset === "l") { p.offsetLeft = 0 } else { if (l.offset === "lt") { p.offsetTop = 0; p.offsetLeft = 0 } else { if (l.offset === "lb") { p.offsetTop = i.height() - n[1]; p.offsetLeft = 0 } else { if (l.offset === "rt") { p.offsetTop = 0; p.offsetLeft = i.width() - n[0] } else { if (l.offset === "rb") { p.offsetTop = i.height() - n[1]; p.offsetLeft = i.width() - n[0] } else { p.offsetTop = l.offset } } } } } } } } } } if (!l.fixed) { p.offsetTop = /%$/.test(p.offsetTop) ? i.height() * parseFloat(p.offsetTop) / 100 : parseFloat(p.offsetTop); p.offsetLeft = /%$/.test(p.offsetLeft) ? i.width() * parseFloat(p.offsetLeft) / 100 : parseFloat(p.offsetLeft); p.offsetTop += i.scrollTop(); p.offsetLeft += i.scrollLeft() } if (o.attr("minLeft")) { p.offsetTop = i.height() - (o.find(c[1]).outerHeight() || 0); p.offsetLeft = o.css("left") } o.css({ top: p.offsetTop, left: p.offsetLeft }) }; b.pt.tips = function () { var r = this, p = r.config, q = r.layero; var o = [q.outerWidth(), q.outerHeight()], s = f(p.follow); if (!s[0]) { s = f("body") } var n = { width: s.outerWidth(), height: s.outerHeight(), top: s.offset().top, left: s.offset().left }, m = q.find(".layui-layer-TipsG"); var l = p.tips[0]; p.tips[1] || m.remove(); n.autoLeft = function () { if (n.left + o[0] - i.width() > 0) { n.tipLeft = n.left + n.width - o[0]; m.css({ right: 12, left: "auto" }) } else { n.tipLeft = n.left } }; n.where = [function () { n.autoLeft(); n.tipTop = n.top - o[1] - 10; m.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color", p.tips[1]) }, function () { n.tipLeft = n.left + n.width + 10; n.tipTop = n.top; m.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color", p.tips[1]) }, function () { n.autoLeft(); n.tipTop = n.top + n.height + 10; m.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color", p.tips[1]) }, function () { n.tipLeft = n.left - o[0] - 10; n.tipTop = n.top; m.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color", p.tips[1]) }]; n.where[l - 1](); if (l === 1) { n.top - (i.scrollTop() + o[1] + 8 * 2) < 0 && n.where[2]() } else { if (l === 2) { i.width() - (n.left + n.width + o[0] + 8 * 2) > 0 || n.where[3]() } else { if (l === 3) { (n.top - i.scrollTop() + n.height + o[1] + 8 * 2) - i.height() > 0 && n.where[0]() } else { if (l === 4) { o[0] + 8 * 2 - n.left > 0 && n.where[1]() } } } } q.find("." + c[5]).css({ "background-color": p.tips[1], "padding-right": (p.closeBtn ? "30px" : "") }); q.css({ left: n.tipLeft - (p.fixed ? i.scrollLeft() : 0), top: n.tipTop - (p.fixed ? i.scrollTop() : 0) }) }; b.pt.move = function () { var p = this, m = p.config, o = f(document), n = p.layero, l = n.find(m.move), q = n.find(".layui-layer-resize"), r = {}; if (m.move) { l.css("cursor", "move") } l.on("mousedown", function (s) { s.preventDefault(); if (m.move) { r.moveStart = true; r.offset = [s.clientX - parseFloat(n.css("left")), s.clientY - parseFloat(n.css("top"))]; j.moveElem.css("cursor", "move").show() } }); q.on("mousedown", function (s) { s.preventDefault(); r.resizeStart = true; r.offset = [s.clientX, s.clientY]; r.area = [n.outerWidth(), n.outerHeight()]; j.moveElem.css("cursor", "se-resize").show() }); o.on("mousemove", function (u) { if (r.moveStart) { var x = u.clientX - r.offset[0], v = u.clientY - r.offset[1], s = n.css("position") === "fixed"; u.preventDefault(); r.stX = s ? 0 : i.scrollLeft(); r.stY = s ? 0 : i.scrollTop(); if (!m.moveOut) { var t = i.width() - n.outerWidth() + r.stX, w = i.height() - n.outerHeight() + r.stY; x < r.stX && (x = r.stX); x > t && (x = t); v < r.stY && (v = r.stY); v > w && (v = w) } n.css({ left: x, top: v }) } if (m.resize && r.resizeStart) { var x = u.clientX - r.offset[0], v = u.clientY - r.offset[1]; u.preventDefault(); h.style(p.index, { width: r.area[0] + x, height: r.area[1] + v }); r.isResize = true; m.resizing && m.resizing(n) } }).on("mouseup", function (s) { if (r.moveStart) { delete r.moveStart; j.moveElem.hide(); m.moveEnd && m.moveEnd(n) } if (r.resizeStart) { delete r.resizeStart; j.moveElem.hide() } }); return p }; b.pt.callback = function () { var o = this, n = o.layero, m = o.config; o.openLayer(); if (m.success) { if (m.type == 2) { n.find("iframe").on("load", function () { m.success(n, o.index) }) } else { m.success(n, o.index) } } h.ie == 6 && o.IE6(n); n.find("." + c[6]).children("a").on("click", function () { var p = f(this).index(); if (p === 0) { if (m.yes) { m.yes(o.index, n) } else { if (m.btn1) { m.btn1(o.index, n) } else { h.close(o.index) } } } else { var q = m["btn" + (p + 1)] && m["btn" + (p + 1)](o.index, n); q === false || h.close(o.index) } }); function l() { var p = m.cancel && m.cancel(o.index, n); p === false || h.close(o.index) } n.find("." + c[7]).on("click", l); if (m.shadeClose) { f("#layui-layer-shade" + o.index).on("click", function () { h.close(o.index) }) } n.find(".layui-layer-min").on("click", function () { var p = m.min && m.min(n); p === false || h.min(o.index, m) }); n.find(".layui-layer-max").on("click", function () { if (f(this).hasClass("layui-layer-maxmin")) { h.restore(o.index); m.restore && m.restore(n) } else { h.full(o.index, m); setTimeout(function () { m.full && m.full(n) }, 100) } }); m.end && (j.end[o.index] = m.end) }; j.reselect = function () { f.each(f("select"), function (l, m) { var n = f(this); if (!n.parents("." + c[0])[0]) { (n.attr("layer") == 1 && f("." + c[0]).length < 1) && n.removeAttr("layer").show() } n = null }) }; b.pt.IE6 = function (l) { f("select").each(function (m, n) { var o = f(this); if (!o.parents("." + c[0])[0]) { o.css("display") === "none" || o.attr({ layer: "1" }).hide() } o = null }) }; b.pt.openLayer = function () { var l = this; h.zIndex = l.config.zIndex; h.setTop = function (n) { var m = function () { h.zIndex++; n.css("z-index", h.zIndex + 1) }; h.zIndex = parseInt(n[0].style.zIndex); n.on("mousedown", m); return h.zIndex } }; j.record = function (m) { var l = [m.width(), m.height(), m.position().top, m.position().left + parseFloat(m.css("margin-left"))]; m.find(".layui-layer-max").addClass("layui-layer-maxmin"); m.attr({ area: l }) }; j.rescollbar = function (l) { if (c.html.attr("layer-full") == l) { if (c.html[0].style.removeProperty) { c.html[0].style.removeProperty("overflow") } else { c.html[0].style.removeAttribute("overflow") } c.html.removeAttr("layer-full") } }; d.layer = h; h.getChildFrame = function (l, m) { m = m || f("." + c[4]).attr("times"); return f("#" + c[0] + m).find("iframe").contents().find(l) }; h.getFrameIndex = function (l) { return f("#" + l).parents("." + c[4]).attr("times") }; h.iframeAuto = function (n) { if (!n) { return } var m = h.getChildFrame("html", n).outerHeight(); var o = f("#" + c[0] + n); var p = o.find(c[1]).outerHeight() || 0; var l = o.find("." + c[6]).outerHeight() || 0; o.css({ height: m + p + l }); o.find("iframe").css({ height: m }) }; h.iframeSrc = function (m, l) { f("#" + c[0] + m).find("iframe").attr("src", l) }; h.style = function (r, t, o) { var m = f("#" + c[0] + r), l = m.find(".layui-layer-content"), s = m.attr("type"), n = m.find(c[1]).outerHeight() || 0, q = m.find("." + c[6]).outerHeight() || 0, p = m.attr("minLeft"); if (s === j.type[3] || s === j.type[4]) { return } if (!o) { if (parseFloat(t.width) <= 260) { t.width = 260 } if (parseFloat(t.height) - n - q <= 64) { t.height = 64 + n + q } } m.css(t); q = m.find("." + c[6]).outerHeight(); if (s === j.type[2]) { m.find("iframe").css({ height: parseFloat(t.height) - n - q }) } else { l.css({ height: parseFloat(t.height) - n - q - parseFloat(l.css("padding-top")) - parseFloat(l.css("padding-bottom")) }) } }; h.min = function (m, n) { var o = f("#" + c[0] + m), q = o.find(c[1]).outerHeight() || 0, p = o.attr("minLeft") || (181 * j.minIndex) + "px", l = o.css("position"); j.record(o); if (j.minLeft[0]) { p = j.minLeft[0]; j.minLeft.shift() } o.attr("position", l); h.style(m, { width: 180, height: q, left: p, top: i.height() - q, position: "fixed", overflow: "hidden" }, true); o.find(".layui-layer-min").hide(); o.attr("type") === "page" && o.find(c[4]).hide(); j.rescollbar(m); if (!o.attr("minLeft")) { j.minIndex++ } o.attr("minLeft", p) }; h.restore = function (l) { var o = f("#" + c[0] + l), n = o.attr("area").split(","); var m = o.attr("type"); h.style(l, { width: parseFloat(n[0]), height: parseFloat(n[1]), top: parseFloat(n[2]), left: parseFloat(n[3]), position: o.attr("position"), overflow: "visible" }, true); o.find(".layui-layer-max").removeClass("layui-layer-maxmin"); o.find(".layui-layer-min").show(); o.attr("type") === "page" && o.find(c[4]).show(); j.rescollbar(l) }; h.full = function (l) { var m = f("#" + c[0] + l), n; j.record(m); if (!c.html.attr("layer-full")) { c.html.css("overflow", "hidden").attr("layer-full", l) } clearTimeout(n); n = setTimeout(function () { var o = m.css("position") === "fixed"; h.style(l, { top: o ? 0 : i.scrollTop(), left: o ? 0 : i.scrollLeft(), width: i.width(), height: i.height() }, true); m.find(".layui-layer-min").hide() }, 100) }; h.title = function (m, l) { var n = f("#" + c[0] + (l || h.index)).find(c[1]); n.html(m) }; h.close = function (m) { var o = f("#" + c[0] + m), n = o.attr("type"), r = "layer-anim-close"; if (!o[0]) { return } var l = f(o).attr("class"); try { l = l.match(/layer-anim-(\d+)/i)[0].split("-")[2] } catch (q) { l = 0 } if (parseInt(l) >= 7) { r = "layer-anim-close-" + l } var s = "layui-layer-wrap", p = function () { if (n === j.type[1] && o.attr("conType") === "object") { o.children(":not(." + c[5] + ")").remove(); var v = o.find("." + s); for (var u = 0; u < 2; u++) { v.unwrap() } v.css("display", v.data("display")).removeClass(s) } else { if (n === j.type[2]) { try { var t = f("#" + c[4] + m)[0]; t.contentWindow.document.write(""); t.contentWindow.close(); o.find("." + c[5])[0].removeChild(t) } catch (w) { } } o[0].innerHTML = ""; o.remove() } typeof j.end[m] === "function" && j.end[m](); delete j.end[m] }; o.addClass(r); f("#layui-layer-moves,.layui-layer-move, #layui-layer-shade" + m).fadeOut(500, function () { f(this).remove() }); h.ie == 6 && j.reselect(); j.rescollbar(m); if (o.attr("minLeft")) { j.minIndex--; j.minLeft.push(o.attr("minLeft")) } setTimeout(function () { p() }, (h.ie && h.ie < 10) ? 0 : 500) }; h.closeAll = function (l) { f.each(f("." + c[0]), function () { var n = f(this); var m = l ? (n.attr("type") === l) : 1; m && h.close(n.attr("times")); m = null }) }; var a = h.cache || {}, k = function (l) { return (a.skin ? (" " + a.skin + " " + a.skin + "-" + l) : "") }; h.prompt = function (l, r) { var m = ""; l = l || {}; if (typeof l === "function") { r = l } if (l.area) { var o = l.area; m = 'style="width: ' + o[0] + "; height: " + o[1] + ';"'; delete l.area } var p, n = l.formType == 2 ? '<textarea class="layui-layer-input"' + m + ">" + (l.value || "") + "</textarea>" : function () { return '<input type="' + (l.formType == 1 ? "password" : "text") + '" class="layui-layer-input" value="' + (l.value || "") + '">' }(); var q = l.success; delete l.success; return h.open(f.extend({ type: 1, btn: ["&#x786E;&#x5B9A;", "&#x53D6;&#x6D88;"], content: n, skin: "layui-layer-prompt" + k("prompt"), maxWidth: i.width(), success: function (s) { p = s.find(".layui-layer-input"); p.focus(); typeof q === "function" && q(s) }, resize: false, yes: function (s) { var t = p.val(); if (t === "") { p.focus() } else { if (t.length > (l.maxlength || 500)) { h.tips("&#x6700;&#x591A;&#x8F93;&#x5165;" + (l.maxlength || 500) + "&#x4E2A;&#x5B57;&#x6570;", p, { tips: 1 }) } else { r && r(t, s, p) } } } }, l)) }; h.tab = function (l) { l = l || {}; var m = l.tab || {}, n = l.success; delete l.success; return h.open(f.extend({ type: 1, skin: "layui-layer-tab" + k("tab"), resize: false, title: function () { var o = m.length, p = 1, q = ""; if (o > 0) { q = '<span class="layui-layer-tabnow">' + m[0].title + "</span>"; for (; p < o; p++) { q += "<span>" + m[p].title + "</span>" } } return q }(), content: '<ul class="layui-layer-tabmain">' + function () { var o = m.length, p = 1, q = ""; if (o > 0) { q = '<li class="layui-layer-tabli xubox_tab_layer">' + (m[0].content || "no content") + "</li>"; for (; p < o; p++) { q += '<li class="layui-layer-tabli">' + (m[p].content || "no  content") + "</li>" } } return q }() + "</ul>", success: function (q) { var p = q.find(".layui-layer-title").children(); var o = q.find(".layui-layer-tabmain").children(); p.on("mousedown", function (t) { t.stopPropagation ? t.stopPropagation() : t.cancelBubble = true; var s = f(this), r = s.index(); s.addClass("layui-layer-tabnow").siblings().removeClass("layui-layer-tabnow"); o.eq(r).show().siblings().hide(); typeof l.change === "function" && l.change(r) }); typeof n === "function" && n(q) } }, l)) }; h.photos = function (s, q, v) { var n = {}; s = s || {}; if (!s.photos) { return } var r = s.photos.constructor === Object; var t = r ? s.photos : {}, p = t.data || []; var m = t.start || 0; n.imgIndex = (m | 0) + 1; s.img = s.img || "img"; var u = s.success; delete s.success; if (!r) { var w = f(s.photos), o = function () { p = []; w.find(s.img).each(function (x) { var y = f(this); y.attr("layer-index", x); p.push({ alt: y.attr("alt"), pid: y.attr("layer-pid"), src: y.attr("layer-src") || y.attr("src"), thumb: y.attr("src") }) }) }; o(); if (p.length === 0) { return } q || w.on("click", s.img, function () { var y = f(this), x = y.attr("layer-index"); h.photos(f.extend(s, { photos: { start: x, data: p, tab: s.tab }, full: s.full }), true); o() }); if (!q) { return } } else { if (p.length === 0) { return h.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;") } } n.imgprev = function (x) { n.imgIndex--; if (n.imgIndex < 1) { n.imgIndex = p.length } n.tabimg(x) }; n.imgnext = function (x, y) { n.imgIndex++; if (n.imgIndex > p.length) { n.imgIndex = 1; if (y) { return } } n.tabimg(x) }; n.keyup = function (y) { if (!n.end) { var x = y.keyCode; y.preventDefault(); if (x === 37) { n.imgprev(true) } else { if (x === 39) { n.imgnext(true) } else { if (x === 27) { h.close(n.index) } } } } }; n.tabimg = function (x) { if (p.length <= 1) { return } t.start = n.imgIndex - 1; h.close(n.index); setTimeout(function () { h.photos(s, true, x) }, 200) }; n.event = function () { n.bigimg.hover(function () { n.imgsee.show() }, function () { n.imgsee.hide() }); n.bigimg.find(".layui-layer-imgprev").on("click", function (x) { x.preventDefault(); n.imgprev() }); n.bigimg.find(".layui-layer-imgnext").on("click", function (x) { x.preventDefault(); n.imgnext() }); f(document).on("keyup", n.keyup) }; function l(z, A, y) { var x = new Image(); x.src = z; if (x.complete) { return A(x) } x.onload = function () { x.onload = null; A(x) }; x.onerror = function (B) { x.onerror = null; y(B) } } n.loadi = h.load(1, { shade: "shade" in s ? false : 0.9, scrollbar: false }); l(p[m].src, function (x) { h.close(n.loadi); n.index = h.open(f.extend({ type: 1, id: "layui-layer-photos", area: function () { var A = [x.width, x.height]; var z = [f(d).width() - 100, f(d).height() - 100]; if (!s.full && (A[0] > z[0] || A[1] > z[1])) { var y = [A[0] / z[0], A[1] / z[1]]; if (y[0] > y[1]) { A[0] = A[0] / y[0]; A[1] = A[1] / y[0] } else { if (y[0] < y[1]) { A[0] = A[0] / y[1]; A[1] = A[1] / y[1] } } } return [A[0] + "px", A[1] + "px"] }(), title: false, shade: 0.9, shadeClose: true, closeBtn: false, move: ".layui-layer-phimg img", moveType: 1, scrollbar: false, moveOut: true, anim: Math.random() * 5 | 0, skin: "layui-layer-photos" + k("photos"), content: '<div class="layui-layer-phimg"><img src="' + p[m].src + '" alt="' + (p[m].alt || "") + '" layer-pid="' + p[m].pid + '"><div class="layui-layer-imgsee">' + (p.length > 1 ? '<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span>' : "") + '<div class="layui-layer-imgbar" style="display:' + (v ? "block" : "") + '"><span class="layui-layer-imgtit"><a href="javascript:;">' + (p[m].alt || "") + "</a><em>" + n.imgIndex + "/" + p.length + "</em></span></div></div></div>", success: function (z, y) { n.bigimg = z.find(".layui-layer-phimg"); n.imgsee = z.find(".layui-layer-imguide,.layui-layer-imgbar"); n.event(z); s.tab && s.tab(p[m], z); typeof u === "function" && u(z) }, end: function () { n.end = true; f(document).off("keyup", n.keyup) } }, s)) }, function () { h.close(n.loadi); h.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;", { time: 30000, btn: ["&#x4E0B;&#x4E00;&#x5F20;", "&#x4E0D;&#x770B;&#x4E86;"], yes: function () { p.length > 1 && n.imgnext(true, true) } }) }) }; j.run = function (l) { f = l; i = f(d); c.html = f("html"); h.open = function (n) { var m = new b(n); return m.index } }; d.layui && layui.define ? (h.ready(), layui.define("jquery", function (l) { h.path = layui.cache.dir; j.run(layui.jquery); d.layer = h; l("layer", h) })) : ((typeof define === "function" && define.amd) ? define(["jquery"], function () { j.run(d.jQuery); return h }) : function () { j.run(d.jQuery); h.ready() }()) }(window);